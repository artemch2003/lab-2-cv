# Фильтры Гаусса

## Описание

Реализованы фильтры Гаусса для сглаживания изображений с размером ядра, определяемым правилом 3σ:

### Доступные фильтры
- **Фильтр Гаусса σ=1.0**: Мягкое сглаживание с ядром 7x7
- **Фильтр Гаусса σ=2.0**: Среднее сглаживание с ядром 13x13  
- **Фильтр Гаусса σ=3.0**: Сильное сглаживание с ядром 19x19

## Математическая основа

### Формула 2D Гаусса
```
G(x,y) = (1/(2πσ²)) * exp(-(x²+y²)/(2σ²))
```

### Правило 3σ
Размер ядра вычисляется по формуле:
```
kernel_size = 2 * 3 * σ + 1
```

Это обеспечивает, что 99.7% энергии фильтра содержится в ядре.

## Архитектура

### Базовый класс `GaussianFilter`
- Наследуется от `SmoothingFilter`
- Автоматически вычисляет размер ядра по правилу 3σ
- Создает и нормализует ядро Гаусса
- Поддерживает динамическое изменение σ

### Специализированные классы
- `GaussianFilterSigma1`: σ=1.0, ядро 7x7
- `GaussianFilterSigma2`: σ=2.0, ядро 13x13
- `GaussianFilterSigma3`: σ=3.0, ядро 19x19

## Особенности реализации

### Алгоритм создания ядра
1. Вычисляется размер ядра по правилу 3σ
2. Создается ядро с центром в середине
3. Для каждой позиции (i,j) вычисляется значение по формуле Гаусса
4. Ядро нормализуется (сумма = 1)

### Обработка изображений
- **Padding**: Edge padding для корректной обработки краев
- **Свертка**: 2D свертка с ядром Гаусса
- **Цветные изображения**: Обработка каждого канала отдельно
- **Типы данных**: Результат в формате uint8

## Использование

### Через интерфейс
1. Запустите приложение: `python run.py`
2. Загрузите изображение
3. Выберите нужный фильтр Гаусса из выпадающего списка
4. Нажмите "Применить преобразование"

### Программно
```python
from image_processing.factories.transform_factory import TransformFactory

# Создание фильтра
gaussian_filter = TransformFactory.create_transform("Фильтр Гаусса σ=2.0")

# Применение к изображению
import numpy as np
image_array = np.array(your_image)
filtered_image = gaussian_filter.apply(image_array)
```

### Создание фильтра с произвольным σ
```python
from image_processing.transforms.smoothing_filters import GaussianFilter

# Создание фильтра с σ=1.5
gaussian_filter = GaussianFilter(sigma=1.5)
filtered_image = gaussian_filter.apply(image_array)
```

## Сравнение фильтров

| σ | Размер ядра | Характеристика | Применение |
|---|-------------|----------------|------------|
| 1.0 | 7x7 | Мягкое сглаживание | Удаление мелкого шума |
| 2.0 | 13x13 | Среднее сглаживание | Общее сглаживание |
| 3.0 | 19x19 | Сильное сглаживание | Удаление крупного шума |

## Тестирование

Все фильтры протестированы на:
- ✅ Серых изображениях
- ✅ Цветных изображениях  
- ✅ Изображениях с шумом
- ✅ Правильности размеров ядер по правилу 3σ
- ✅ Нормализации ядер (сумма = 1)
- ✅ Интеграции с фабрикой преобразований

## Математические детали

### Нормализация ядра
Ядро нормализуется так, чтобы сумма всех элементов была равна 1:
```python
kernel_sum = np.sum(kernel)
if kernel_sum > 0:
    kernel = kernel / kernel_sum
```

### Обработка краев
Используется edge padding для корректной обработки краев изображения:
```python
padded_image = np.pad(image, pad_size, mode='edge')
```

### Свертка
Для каждого пикселя вычисляется взвешенная сумма окрестности:
```python
result[i, j] = np.sum(window * kernel)
```

Фильтры Гаусса обеспечивают оптимальное сглаживание с сохранением важных деталей изображения.
